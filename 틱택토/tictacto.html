<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>틱택토</title>
    <style>
      body{
        margin:30px;
      }
      table{
        border-collapse: collapse;
      }
      td{
        border:2px solid black;
        width: 80px;
        height: 80px;
        text-align: center;
      }
    </style>
</head>
<body>
  <script>
    
    //같은 결과, [Array(0), Array(0), Array(0)]
    //const data = [];
    //for(let i=0; i<3; i++) {
    //  data.push([]);
    //}
    const data = [Array(3).fill([])];
    let turn = 'O'; //처음 턴을 O로 설정하기 위해서 변수를 만들어 저장함
    
    const clickTd = (event) => {
      if(event.target.textContent) {return;} 
      //클릭을 하지 못하게 할때 removeEvnet보다 return;을 사용해서 바로 종료하기
      event.target.textContent = turn;
      //승부내기
      checkWinner();
      if(turn === 'O') { //턴이 O면
        turn = 'X'; //X로 변경
      } else if (turn === 'X') { 
        turn = 'O';
      }
    }

    //테이블, 행, 열
    const table = document.createElement('table'); 

    for(let i=0; i<3; i++) {
      const tr = document.createElement('tr');
      for(let i=0; i<3; i++) {
        const td = document.createElement('td');
        tr.append(td);
      }
      table.append(tr);
      
      //이벤트 버블링: 자식의 이벤트가 실행되면 부모까지 이벤트가 올라가서 실행되는 현상
      // 이벤트 버블링을 실행하면 target은 td를 가르킴, 이때 currentTarget이라고 설정하면 이벤트가 설정된 table을 가르킬 수 있음
      //이벤트 캡처링: 부모의 이벤트가 자.식한테로 전달되는 현상(팝업창 외부를 눌렀을 때 팝업창이 닫히는이벤트를 만들 때 사용, 잘 사용하지 않음)
      table.addEventListener('click', clickTd);
    }
    document.body.append(table);

  
    const checkWinner = () => {
      for(let i=0; i<3; i++) {
        for(let j=0; j<3; j++) {
          const td = document.createElement('td');
          data[i][j].push = td.textContent;
          console.log(td.textContent);
        }
      }
      cosole.log(data);
    }
    

    
    
    



  </script>
</body>
</html>