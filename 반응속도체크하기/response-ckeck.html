<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #screen{
            width:300px;
            height:200px;
            text-align: center;
            user-select:none;
        }
        #screen.wating{
            background-color: powderblue;
        }
        #screen.ready{
            background-color:red;
            color:white;
        }
        #screen.now{
            background-color:greenyellow;
             
        }
    </style>
</head>
<body>
    <div id="screen" class="wating">클릭해서 시작하세요</div>
    <div id="result"></div>
    <script>
        const screen = document.querySelector('#screen');
        const result = document.querySelector('#result');

        screen.addEventListener('click', (event) => {
            if (event.target.className === 'wating'){ // 파란색
                event.target.style.backgroundColor = "red";
                event.target.className = "ready";
            }
            if (event.target.className === 'ready'){ // 빨간색
                alert('초록색 화면이 나오면 화면을 클릭해주세요!');
                setTimeout(() => {
                    event.target.style.backgroundColor = "greenyellow";
                    event.target.className = "now";
                    startTimer();
                }, Math.random()*(10000-2000))
                
            }
            if (event.target.className === 'now'){ // 초록색
                
            }
        })

        const startTimer = () => {
            const now = new Date();
            let minutes = 0;
            let seconds = 0;
            screen.textContent = `${minutes}:${seconds}`;
            const onTimer = setInterval(()=>{
                seconds += 1;
                screen.textContent = `${minutes}:${seconds}`;
            }, 1000)
            screen.addEventListener('click', () => {
                clearInterval(onTimer);
                result.textContent = `당신의 반응속도는 ${minutes}분${seconds}초입니다.`;
            })
        }
    </script>
</body>
</html>